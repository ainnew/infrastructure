# Обеспеченность Москвы инфраструктурой
Краткое описание: Визуализация и анализ данных части инфраструктуры Москвы (спортзалы, велопарковки и площадки для собак) в разрезе данных о населении районов (плотность начеления, площадь жилого фонда, жилплощадь на человека и т.д.).

### Установка и запуск проекта:
* Основные библиотеки: pandas, geopandas, keplergl, requests, pdfplumber. Все необходимые библиотеки указаны в файле requirements.txt
* Настройки окружения: создайте виртуальное окружение (с помощью команды python -m venv venv) и активируйте его (с помощью команды .\venv\Scripts\activate). Установите необходимые библиотеки с помощью команды pip install -r .\requirements.txt
* В файле main.ipynb содержится Jupyter Notebook, который представляет собой интерактивную среду для работы с кодом, текстом, графиками и другими элементами. Для работы с этим файлом рекомендуется установить Jupyter Notebook или использовать онлайн-сервисы, такие как Google Colab или JupyterLab. Чтобы начать работу, загрузите файлы через интерфейс. После запуска main.ipynb можно просматривать содержимое, редактировать код, запускать ячейки и взаимодействовать с данными.

### Описание функционала и используемых модулей/библиотек:
* <b>Загрузка и предобработка данных</b>. На этом этапе производится загрузка данных из нескольких источников (data.mos.ru, Википедия, Github) разными способами. Например, данные с data.mos.ru посредством api площадки с помощью ключа пользователя (при этом часть данных фильтруется на ходу), а часть данных файла с Википедии с помощью библиотеки pdfplumber распознаются как таблица и собираются в датафрейм. Далее данные фильтруются и объединяются для целей анализа и визуализации.
* <b>Предварительная визуализация и анализ данных</b>. Здесь осуществляется предварительный анализ данных и применяются различные способы визуализации (обзор данных и их зависимостей с помощью библиотеки missingno, построение гистограм распределения нумерических столбцов, визуализация в kepler геоданных - карты Москвы с наложенными на нее точками исследуемых объектов и т.д.)
* <b>Анализ ночной инфраструктуры регионов Москвы (не включая НАО и ТАО)</b>. Заключительным этапом проводится анализ объектов (спортзалы, велопарковки и площадки для собак) и их метрик в сочетании с данными о населении районов (плотность начеления, площадь жилого фонда, жилплощадь на человека и т.д.), и делаются выводы об обеспеченности районов Москвы инфраструктурой.
* Для удобного взаимодействия с основным файлом main.ipynb, некоторые функции выведены в отдельный модуль functions.py. Необходимо, чтобы модуль был импортирован перед запуском в main.ipynb (import functions as f)
* Используемые модули/библиотеки:
    * numpy, stats, pandas, geopandas (для анализа и обработки данных),
    * requests, pdfplumber (для работы с api и получения данных),
    * keplergl, matplotlib, seaborn, missingno (для визуализации),
    * а также ряд других библиотек и зависимостей, указанных в файле requirements.txt

### Описание структуры проекта и файлов:
* main.ipynb - основной файл
* functions.py - модуль с основными функциями для работы в main.ipynb 
* data/regions.pdf - PDF-файл с данными из Википедии [Районы и поселения Москвы](https://ru.wikipedia.org/wiki/%D0%A0%D0%B0%D0%B9%D0%BE%D0%BD%D1%8B_%D0%B8_%D0%BF%D0%BE%D1%81%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F_%D0%9C%D0%BE%D1%81%D0%BA%D0%B2%D1%8B "Ссылка на сайт Википедии") (печатная версия)
* data/mo.geojson - GeoJSON-данные по Районам Москвы из [источника на Github](https://github.com/timurkanaz/Russia_geojson_OSM/blob/master/GeoJson's/Cities/Москва_Moscow.geojson "Ссылка на Github") 
* config/\*.json - конфигурации отображения геоданных в [kepler](https://kepler.gl/ "Ссылка на библиотеку") 
* maps/\*.html - сохраненные отображения геоданных в [kepler](https://kepler.gl/ "Ссылка на библиотеку") в HTML-формате для отдельного запуска и просмотра через браузер 
* requirements.txt - список необходимых библиотек

### Информация о разработчиках:
* Разработка: Первушин Илья

### Дополнительная информация:
* Для получения датасетов Портала открытых данных правительства Москвы требуется ключ аутентификации от пользователя при обращении к api data.mos.ru
* Файл main.ipynb может содержать результаты предыдущих запусков кода, поэтому перед повторным запуском рекомендуется перезапустить ядро (kernel) Jupyter Notebook.
* Проект можно дополнять исследованиями инфраструктуры Москвы с помощью других датасетов с портала Портала открытых данных правительства Москвы, интегрировать с иными источниками данных для получения более полной картины об инфраструктуре Москвы. Например, на основе данных общепита, гостиниц и отелей, досуга и развлечений, медицины и образования, общественного транспорта и заправок, детских площадок и магазинов. С помощью обезличенных данных о продажах, сезонности продаж или проходимости выявляются закономерности трат населения в определенных геозонах. Таким образом можно сделать выводы об обеспеченности районов инфраструктурой в целом.
